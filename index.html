<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
  <title>Банда «Псы»</title>
  <link rel="stylesheet" href="css/home.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>

  <div id="preloader">
    <img src="images/preloader-image.png">
    <div class="preloader-progress-bar">
      <div id="progress"></div>
    </div>
  </div>


  <div class="content" id="content">

    <img src="images/top-img.png" class="top-backgroung-img">

    <p class="user-name">Константин</p>

    <div class="user-image-container">
      <img src="images/avatar.jpg" class="user-image">
    </div>

    <div class="balance-container">
      <img src="images/coin.png" class="dogcoin">
      <p class="balance">214 146</p>
    </div>

    <p class="miniapp-description">
      Играй и увеличивай пенсию
    </p>


    <div class="league-container" onclick="hapticFeedback('soft', 'home/leagues', this)">
      <div class="left">
        <img src="images/home-cup.png">
      </div>
      <div class="center">
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
        <div class="league-marks">
          <p class="left-mark">100K</p>
          <p class="right-mark">250K</p>
        </div>
        <div class="user-league-info">
          <p>3 ЛИГА:</p>
          <p>ИНЦЕЛ</p>
        </div>

      </div>
      <div class="right">
        <img src="images/right-arrow.png">
      </div>
    </div>


    <div class="games-or-achievements">
      <div id="games" class="games">
        <p>Игры</p>
        <div class="rectangle"></div>
      </div>
      <div id="achievements" class="achievements">
        <p>Ачивки</p>
        <div class="rectangle"></div>
      </div>
    </div>





    <div id="games-container" class="content-container">

      <div class="game" onclick="hapticFeedback('soft', 'home/leagues', this)">
        <div class="left">
          <img src="images/no-photo.png">
        </div>
        <div class="center">
          <div class="name">
            Шобла Комбат
          </div>
          <div class="description">
            Прокачивай карты и собирай прибыль каждые 3 часа
          </div>
        </div>
        <div class="right">
          <img src="images/gray-arrow.png">
        </div>
      </div>

      <div class="game" onclick="hapticFeedback('soft', 'home/leagues', this)">
        <div class="left">
          <img src="images/no-photo.png">
        </div>
        <div class="center">
          <div class="name">
            Слоты пса
          </div>
          <div class="description">
            Собирай 3 одинаковые фигуры в ряд и преумножай пенсию
          </div>
        </div>
        <div class="right">
          <img src="images/gray-arrow.png">
        </div>
      </div>

      <div class="game" onclick="hapticFeedback('soft', 'home/leagues', this)">
        <div class="left">
          <img src="images/no-photo.png">
        </div>
        <div class="center">
          <div class="name">
            Рулетка пса
          </div>
          <div class="description">
            Ставь на красное или чёрное и угадывай числа от 0 до 36
          </div>
        </div>
        <div class="right">
          <img src="images/gray-arrow.png">
        </div>
      </div>

      <div class="game" onclick="hapticFeedback('soft', 'home/leagues', this)">
        <div class="left">
          <img src="images/no-photo.png">
        </div>
        <div class="center">
          <div class="name">
            Слоты пса (Deluxe)
          </div>
          <div class="description">
            Собирай до 5 одинаковых фигур в ряд и преумножай пенсию
          </div>
        </div>
        <div class="right">
          <img src="images/gray-arrow.png">
        </div>
      </div>

      <div class="game" onclick="hapticFeedback('soft', 'home/leagues', this)">
        <div class="left">
          <img src="images/no-photo.png">
        </div>
        <div class="center">
          <div class="name">
            Кости пса
          </div>
          <div class="description">
            Описание будет позже
          </div>
        </div>
        <div class="right">
          <img src="images/gray-arrow.png">
        </div>
      </div>

      <div class="game" onclick="hapticFeedback('soft', 'home/leagues', this)">
        <div class="left">
          <img src="images/no-photo.png">
        </div>
        <div class="center">
          <div class="name">
            Симулятор дропа
          </div>
          <div class="description">
            Описание будет позже
          </div>
        </div>
        <div class="right">
          <img src="images/gray-arrow.png">
        </div>
      </div>

    </div>






    <div id="achievements-container" class="content-container hidden">
      <div class="achievement" onclick="hapticFeedback('light')">
        <div class="center">
          <div class="name">light</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('medium')">
        <div class="center">
          <div class="name">medium</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('heavy')">
        <div class="center">
          <div class="name">heavy</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('rigid')">
        <div class="center">
          <div class="name">rigid</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('soft')">
        <div class="center">
          <div class="name">soft</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('error')">
        <div class="center">
          <div class="name">error</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('success')">
        <div class="center">
          <div class="name">success</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('warning')">
        <div class="center">
          <div class="name">warning</div>
        </div>
      </div>

      <div class="achievement" onclick="hapticFeedback('change')">
        <div class="center">
          <div class="name">change</div>
        </div>
      </div>
    </div>






    <div class="bottom-menu">

      <div class="menu" onclick="hapticFeedback('error')">
        <img src="images/bank.png">
        <p>Банк</p>
      </div>

      <div class="menu" onclick="hapticFeedback('error')">
        <img src="images/lottery.png">
        <p>Лотерея</p>
      </div>

      <div class="menu selected" onclick="hapticFeedback('warning')">
        <div></div>
        <img src="images/home-white.png">
        <p>Главная</p>
      </div>

      <div class="menu" onclick="hapticFeedback('error')">
        <img src="images/rank.png">
        <p>Рейтинг</p>
      </div>

      <div class="menu" onclick="hapticFeedback('error')">
        <img src="images/account.png">
        <p>Профиль</p>
      </div>

    </div>


  </div>

  <script src="js/home.js"></script>
  <script>
    // Заставка и появление контента
    window.addEventListener('DOMContentLoaded', () => {
      const preloader = document.getElementById('preloader');
      const progress = document.getElementById('progress');

      const getRandomIntervals = (totalDuration, steps) => {
        const intervals = [];
        let sum = 0;
        for (let i = 0; i < steps - 1; i++) {
          const remaining = totalDuration - sum;
          const interval = Math.random() * (remaining / (steps - i));
          intervals.push(interval);
          sum += interval;
        }
        intervals.push(totalDuration - sum);
        return intervals;
      };

      const totalDuration = 1500; // Длительность заставки
      const steps = 5;
      const intervals = getRandomIntervals(totalDuration, steps);

      let accumulatedTime = 0;
      intervals.forEach((interval, index) => {
        setTimeout(() => {
          const progressPercentage = ((index + 1) / steps) * 100;
          progress.style.transitionDuration = `${interval}ms`;
          progress.style.width = `${progressPercentage}%`;
        }, accumulatedTime);
        accumulatedTime += interval;
      });

      // Убираем прелоадер и показываем контент
      setTimeout(() => {
        preloader.classList.add('hidden');
        hapticFeedback('success');
        setTimeout(() => {
          const children = document.querySelectorAll('.content > *');
          children.forEach((child, index) => {
            setTimeout(() => {
              child.classList.add('visible');
            }, index * 25);
          });
        }, 100);
      }, totalDuration);
    });

  </script>

</body>
</html>